{"id":833608436,"lang":"cpp","lang_name":"C++","time":"1 month, 3 weeks","timestamp":1667165995,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/833608436/","is_pending":"Not Pending","title":"Shortest Path in a Grid with Obstacles Elimination","memory":"N/A","code":"class Solution {\npublic:\n\n    int dx[4] = {0, 1, 0, -1};\n    int dy[4] = {1, 0, -1, 0};\n\n    bool isValid(int u, int v, int m, int n){\n        return (u>=0 && u<m && v>=0 &&v<n);\n    }\n\n    int solve(int u, int v, vector<vector<int>>& grid, int m, int n, int k, vector<vector<bool>> & visited, vector<vector<vector<vector<int>>>>& dp, int dir){\n        if(k<0) return 1e6;\n        if(u == m-1 && v==n-1 && k>=0) return 0;\n        if(dp[u][v][k][dir] != -1) return dp[u][v][k][dir];\n        int ret = 1e6;\n        // visited[u][v] = true;\n        for(int i=0; i<4; i++){\n            int x = u + dx[i];\n            int y = v + dy[i];\n            if(isValid(x,y,m,n) && !visited[x][y]){\n                visited[x][y] = true;\n                if(grid[x][y] == 1){\n                    ret = min(ret, 1 + solve(x, y, grid, m, n, k-1, visited, dp, i));\n                }\n                if(grid[x][y] == 0){\n                    ret = min(ret, 1 + solve(x, y, grid, m, n, k, visited, dp, i));\n                }\n                visited[x][y] = false;\n            }\n        }\n        // visited[u][v] = false;\n        return dp[u][v][k][dir] = ret;\n    }\n    int shortestPath(vector<vector<int>>& grid, int k) {\n        int m = grid.size(), n = grid[0].size();\n        vector<vector<bool>>visited(m+1, vector<bool>(n+1, false));\n        vector<vector<vector<vector<int>>>>dp(m+1, vector<vector<vector<int>>>(n+1, vector<vector<int>>(k+1, vector<int>(4, -1))));\n        int ans = solve(0, 0, grid, m, n, k, visited, dp, 0);\n        return (ans > m*n) ? -1 : ans;\n    }\n};","compare_result":"1111111111111111111111111111111111111111111111101111","title_slug":"shortest-path-in-a-grid-with-obstacles-elimination","has_notes":false,"notes":"","topic_tags":[]}