{"id":784875593,"lang":"cpp","lang_name":"C++","time":"3 months, 4 weeks","timestamp":1661622683,"status":10,"status_display":"Accepted","runtime":"1820 ms","url":"/submissions/detail/784875593/","is_pending":"Not Pending","title":"Max Sum of Rectangle No Larger Than K","memory":"192.2 MB","code":"class Solution {\npublic:\n    int maxSumSubmatrix(vector<vector<int>>& matrix, int k) {\n        int m = matrix.size(), n = matrix[0].size();\n        int ans = INT_MIN;\n        \n        for(int col = 0; col<n; col++){\n            vector<int>sum(m, 0);\n            for(int i = col; i<n; i++){\n                for(int j=0; j<m; j++){\n                    sum[j]+=matrix[j][i];\n                }\n                \n                set<int>sumSet;\n                sumSet.insert(0);\n                int curSum = 0, curMax = INT_MIN;\n                for(int j=0; j<sum.size(); j++){\n                    curSum += sum[j];\n                    auto it = sumSet.lower_bound(curSum - k);\n                    if(it!=sumSet.end()){\n                        curMax = max(curMax, curSum - *it);\n                        if(curMax == k) return k;\n                    }\n                    sumSet.insert(curSum);\n                }\n                ans = max(ans, curMax);\n            }\n        }\n        return ans;\n    }\n};\n\n/*\n\n1 0  1\n0 -2 3\n\nIteration 1     | Iteration 2   | Iteration 3\nsum = 1, 1      | 1, -2         | 2, 1\nsumSet = 0, 1,  | 0, 1, -2      | 0, 2, 3\ncurMax = 1      | 1             | 2\nans = 1         | 1             | 2\n    \nIteration 1     | Iteration 2\nsum = 0, -2     | sum = 1, 1\nsumSet = 0, -2  | sumSet = 0, 1, 2\ncurMax = 0      | curMax = 2\nans = 2         | ans = 2\n\nIteraton 1\nsum = 1, 3\nsumSet = 0, 1, 2\ncurMax = 1\nans = 2\n\n*/","compare_result":"111111111111111111111111111111111111111","title_slug":"max-sum-of-rectangle-no-larger-than-k","has_notes":false,"notes":"","topic_tags":[]}