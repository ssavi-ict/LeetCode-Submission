{"id":714621179,"lang":"cpp","lang_name":"C++","time":"6 months, 3 weeks","timestamp":1654398180,"status":10,"status_display":"Accepted","runtime":"10 ms","url":"/submissions/detail/714621179/","is_pending":"Not Pending","title":"N-Queens II","memory":"6.1 MB","code":"class Solution {\npublic:\n    \n    int dx[4] = {-1, 1, -1, 1};\n    int dy[4] = {1, 1, -1, -1};\n    \n    bool valid(int r, int c, vector<int>&state, int n){\n        for(int i=0; i<n; i++){\n            if(state[r] & (1<<i)) return false;\n        }\n        \n        int count = 2*n;\n        int mul = 0;\n        while(count--){\n            for(int i=0; i<4; i++){\n                int rr = r + dx[i]*mul;\n                int cc = c + dy[i]*mul;\n                if(rr>=0 && rr<n && cc>=0 && cc<n){\n                    if(state[rr] & (1<<cc)) return false;\n                }\n            }\n            mul++;\n        }\n        return true;\n    }\n    \n    int solve(int col, vector<int>&state, int q, int n){\n        if(q<=0){\n            return 1;\n        }\n        if(col>=n) return 0;\n        int cnt = 0;\n        for(int i=0; i<n; i++){\n            if(valid(i, col, state, n)){\n                // cout<<i<<' '<<col<<' '<<q<<endl;\n                state[i] = state[i] | (1 << col);\n                cnt = cnt + solve(col + 1, state, q-1, n);\n                state[i] = state[i] & (0 << col);\n            }\n        }\n        return cnt;\n    }\n    \n    int totalNQueens(int n) {\n        vector<int>state(n, 0);\n        return solve(0, state, n, n);\n    }\n};","compare_result":"111111111","title_slug":"n-queens-ii","has_notes":false,"notes":"","topic_tags":[]}